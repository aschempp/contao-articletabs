
<!-- indexer::stop -->
<div class="<?php echo $this->class; ?> block"<?php echo $this->cssID; ?><?php if ($this->style): ?> style="<?php echo $this->style; ?>"<?php endif; ?>>
<?php if ($this->headline): ?>

<<?php echo $this->hl; ?>><?php echo $this->headline; ?></<?php echo $this->hl; ?>>
<?php endif; ?>

<ul class="tabs">
<?php foreach( $this->tabs as $article ): ?>
<li><a href="#"><?php echo $article['title']; ?></a></li>
<?php endforeach; ?>
</ul>

<?php echo $this->articles; ?>

</div>
<script src="system/modules/articletabs/html/rotater.js"></script>
<script src="system/modules/articletabs/html/tabs.js"></script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
window.addEvent('domready', function() {
	var tabs = document.getElements('#<?php echo $this->inColumn; ?> .tabs a');
	var slides = document.getElements('#<?php echo $this->inColumn; ?> .mod_article').setStyle('position', 'absolute');
	new Tabs(tabs, slides, {
		onShowSlide: function(slideIndex) {
			slides.setStyle('display', 'block').removeClass('active');
			tabs.removeClass('active');
			tabs[slideIndex].addClass('active');
			document.getElement('#<?php echo $this->inColumn; ?> .mod_articletabs').setStyle('display', 'block').tween('height', slides[slideIndex].addClass('active').getSize().y));
			
			slides.each( function(slide, index) {
				if (index != slideIndex)
					slide.setStyle('display', 'none');
			});
			
            window.fireEvent('showslide');
		}
	});
});
//--><!]]>
</script>
<!-- indexer::continue -->